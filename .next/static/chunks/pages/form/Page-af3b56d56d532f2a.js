(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4923],{5731:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/Page",function(){return t(848)}])},848:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var r=t(5893),a=t(1163),o=t(7066),l=t(7294),s=t(9008),i=t.n(s),c=t(3454);function u(){var e,n,t,s,u,d;let{slug:h}=(0,a.useRouter)().query,[g,m]=(0,l.useState)(null),[p,x]=(0,l.useState)(!0),[f,v]=(0,l.useState)(null);if((0,l.useEffect)(()=>{h&&o.Z.post(c.env.NEXT_PUBLIC_STAGING_URL,{query:"\n  query GetPageBySlug($slug: String!) {\n    pageBy(uri: $slug) {\n      title\n      content\n      date\n      blocks\n      featuredImage {\n        node {\n          sourceUrl\n        }\n      }\n      author {\n        node {\n          name\n        }\n      }\n      seo {\n        metaDesc\n        canonical\n      }\n    }\n  }\n",variables:{slug:h}}).then(e=>{m(e.data.data),x(!1)}).catch(e=>{console.error("Error fetching post:",e),v(e),x(True)})},[h]),p)return(0,r.jsx)("p",{children:"Loading..."});if(f)return(0,r.jsxs)("p",{children:["Error: ",f.message]});let _=null==g?void 0:g.pageBy;if(!_)return(0,r.jsx)("p",{children:"No data found for this page."});console.log("Blocks data:",_.blocks);let j=Array.isArray(_.blocks)?_.blocks:[];return(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:_.title}),(0,r.jsx)("meta",{name:"description",content:(null===(e=_.seo)||void 0===e?void 0:e.metaDesc)||""}),(0,r.jsx)("link",{rel:"canonical",href:(null===(n=_.seo)||void 0===n?void 0:n.canonical)||window.location.href})]}),(0,r.jsx)("h1",{children:_.title}),(0,r.jsxs)("p",{children:["By ",(null===(s=_.author)||void 0===s?void 0:null===(t=s.node)||void 0===t?void 0:t.name)||"Unknown"," on ",new Date(_.date).toLocaleDateString()]}),(null===(d=_.featuredImage)||void 0===d?void 0:null===(u=d.node)||void 0===u?void 0:u.sourceUrl)&&(0,r.jsx)("div",{style:{marginBottom:"20px"},children:(0,r.jsx)("img",{src:_.featuredImage.node.sourceUrl,alt:_.title,style:{maxWidth:"100%",borderRadius:"8px"}})}),(0,r.jsx)("div",{children:j.length>0?j.map((e,n)=>{switch(e.name){case"core/paragraph":return(0,r.jsx)("p",{dangerouslySetInnerHTML:{__html:e.innerHTML}},n);case"core/image":return(0,r.jsx)("img",{src:e.attrs.src,alt:e.attrs.alt||"",style:{maxWidth:"100%",borderRadius:"8px",marginBottom:"20px"}},n);case"core/heading":return React.createElement("h".concat(e.attrs.level||2),{key:n},e.innerHTML);case"core/list":return(0,r.jsx)("ul",{children:e.attrs.items.map((e,n)=>(0,r.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},n))},n);default:return console.warn("Unknown block type: ".concat(e.name)),null}}):(0,r.jsx)("p",{children:"No content available."})}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:_.content}})]})}},9008:function(e,n,t){e.exports=t(3867)}},function(e){e.O(0,[7066,2888,9774,179],function(){return e(e.s=5731)}),_N_E=e.O()}]);