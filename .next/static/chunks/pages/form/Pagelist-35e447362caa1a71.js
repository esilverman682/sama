(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1469],{4111:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/Pagelist",function(){return s(9813)}])},9813:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(5893),a=s(7066),l=s(7294),r=s(1163),i=s(3454);function c(){let[e,t]=(0,l.useState)([]),[s,c]=(0,l.useState)(!0),[u,o]=(0,l.useState)(null),[d,f]=(0,l.useState)(!1),[h,x]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),m=(0,r.useRouter)(),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c(!0);try{let s=await a.Z.post(i.env.NEXT_PUBLIC_STAGING_URL,{query:"\nquery GetPages($first: Int, $after: String) {\n  pages(first: $first, after: $after) {\n    nodes {\n      title\n      slug\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n",variables:{first:10,after:e}}),n=s.data.data.pages.nodes,l=s.data.data.pages.pageInfo;t(e=>[...e,...n]),f(l.hasNextPage),x(l.endCursor),o(null)}catch(e){o("Failed to fetch posts.")}finally{c(!1),g(!1)}};(0,l.useEffect)(()=>{N()},[]);let b=e=>{m.push("/form/Page?slug=".concat(e))};return(0,n.jsxs)("div",{className:"p-4 m-2",children:[(0,n.jsx)("h1",{className:"text-4xl mb-4",children:"Page Review Site"}),s&&0===e.length&&(0,n.jsx)("p",{className:"text-center",children:"Loading..."}),u&&(0,n.jsxs)("p",{className:"text-red-500",children:["Error: ",u]}),e.map(e=>(0,n.jsx)("div",{className:"mb-4 pb-2 pl-2 pr-2 border-b border-gray-300",children:(0,n.jsx)("h2",{className:"text-2xl pb-2 cursor-pointer text-blue-500",onClick:()=>b(e.slug),children:e.title})},e.slug)),d&&(0,n.jsx)("div",{className:"flex justify-center mt-6",children:(0,n.jsx)("button",{onClick:()=>{g(!0),N(h)},disabled:p,className:"px-6 py-3 bg-blue-500 text-white rounded-md shadow-md transition-all duration-300 ease-in-out \n              ".concat(p?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),children:p?(0,n.jsxs)("span",{className:"flex items-center justify-center",children:[(0,n.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"text-blue-300",cx:"12",cy:"12",r:"10",fill:"none",strokeWidth:"4"}),(0,n.jsx)("path",{className:"text-blue-500",fill:"currentColor",d:"M12 2v10l4 4"})]}),"Loading..."]}):"Load More"})})]})}}},function(e){e.O(0,[7066,2888,9774,179],function(){return e(e.s=4111)}),_N_E=e.O()}]);