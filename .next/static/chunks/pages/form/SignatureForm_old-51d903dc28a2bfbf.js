(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5880],{3728:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/SignatureForm_old",function(){return a(2930)}])},2930:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return o}});var s=a(5893),t=a(7294),r=a(7066),i=a(8877),l=a.n(i),c=()=>{let e=(0,t.useRef)({});return(0,s.jsxs)("div",{className:"signature-container",children:[(0,s.jsx)("h2",{children:"Signature"}),(0,s.jsx)(l(),{ref:e,penColor:"black",canvasProps:{width:500,height:200,className:"sigCanvas border-2 border-dashed border-gray-400"}}),(0,s.jsx)("div",{className:"buttons mt-4",children:(0,s.jsx)("button",{type:"button",onClick:()=>e.current.clear(),className:"clear-button",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v6h6M20 20v-6h-6M4 20h16M20 4H4"})})})})]})},o=()=>{let[e,n]=(0,t.useState)({firstName:"",lastName:"",email:"",confirmEmail:"",comments:"",contactNumber:"",signature:"",hiddenField:"",selectedOption:"",file:null}),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(""),[m,d]=(0,t.useState)(null),u=a=>{let{name:s,value:t}=a.target;n({...e,[s]:t})},p=async n=>{n.preventDefault(),i(!1),o("");let a=new FormData;a.append("firstName",e.firstName),a.append("lastName",e.lastName),a.append("email",e.email),a.append("confirmEmail",e.confirmEmail),a.append("comments",e.comments),a.append("contactNumber",e.contactNumber),a.append("signature",e.signature),a.append("hiddenField",e.hiddenField),a.append("selectedOption",e.selectedOption),e.file&&a.append("file",e.file);let s='\n      mutation {\n        contactForms(\n          input: {\n            firstName: "'.concat(e.firstName,'",\n            lastName: "').concat(e.lastName,'",\n            email: "').concat(e.email,'",\n            confirmEmail: "').concat(e.confirmEmail,'",\n            comments: "').concat(e.comments,'",\n            contactNumber: "').concat(e.contactNumber,'",\n            signature: "').concat(e.signature,'",\n            hiddenField: "').concat(e.hiddenField,'",\n            selectedOption: "').concat(e.selectedOption,'"\n          }\n        ) {\n          formEntry {\n            id\n            firstName\n            lastName\n            email\n            comments\n            contactNumber\n            formId\n          }\n        }\n      }\n    ');try{let n=await r.Z.post("https://kapstaging.com/graphql",{query:s,variables:{file:e.file}});n.data.data.contactForms&&(d(n.data.data.contactForms.formEntry),i(!0))}catch(e){o("Error creating form. Please try again."),console.error("Error creating form:",e)}};return(0,s.jsxs)("div",{className:"form-container",children:[(0,s.jsx)("h1",{children:"GraphQL Form with Signature"}),(0,s.jsxs)("form",{onSubmit:p,className:"form grid grid-cols-1 gap-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"First Name: (Required)"}),(0,s.jsx)("input",{type:"text",name:"firstName",value:e.firstName,onChange:u,required:!0,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Last Name: (Required)"}),(0,s.jsx)("input",{type:"text",name:"lastName",value:e.lastName,onChange:u,required:!0,className:"form-input"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email: (Required)"}),(0,s.jsx)("input",{type:"email",name:"email",value:e.email,onChange:u,required:!0,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Confirm Email: (Required)"}),(0,s.jsx)("input",{type:"email",name:"confirmEmail",value:e.confirmEmail,onChange:u,required:!0,className:"form-input"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Contact Number: (Required)"}),(0,s.jsx)("input",{type:"tel",name:"contactNumber",value:e.contactNumber,onChange:u,required:!0,className:"form-input"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Comments:"}),(0,s.jsx)("textarea",{name:"comments",value:e.comments,onChange:u,className:"form-input",rows:"4"})]}),(0,s.jsx)("input",{type:"hidden",name:"hiddenField",value:"Some Hidden Value",onChange:u}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Choose an option:"}),(0,s.jsxs)("select",{name:"selectedOption",value:e.selectedOption,onChange:u,className:"form-input",children:[(0,s.jsx)("option",{value:"",children:"Select an option"}),(0,s.jsx)("option",{value:"Option 1",children:"Option 1"}),(0,s.jsx)("option",{value:"Option 2",children:"Option 2"}),(0,s.jsx)("option",{value:"Option 3",children:"Option 3"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Upload File:"}),(0,s.jsx)("input",{type:"file",name:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:a=>{n({...e,file:a.target.files[0]})},className:"form-input"})]}),(0,s.jsx)(c,{onSave:a=>{n({...e,signature:a})}}),(0,s.jsx)("button",{type:"submit",className:"submit-button",children:"Submit"})]}),a&&m&&(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("p",{children:"Form created successfully!"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",m.id]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"First Name:"})," ",m.firstName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Name:"})," ",m.lastName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",m.email]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Contact Number:"})," ",m.contactNumber]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Form ID:"})," ",m.formId]})]}),l&&(0,s.jsx)("p",{className:"error-message",children:l})]})}}},function(e){e.O(0,[7066,8877,2888,9774,179],function(){return e(e.s=3728)}),_N_E=e.O()}]);