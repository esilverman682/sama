(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2691],{4542:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/Createform",function(){return t(7076)}])},7076:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(7294),s=t(7066);n.default=()=>{let[e,n]=(0,a.useState)({name:"",contactNumber:""}),[t,c]=(0,a.useState)(!1),[o,m]=(0,a.useState)(""),[i,u]=(0,a.useState)(null),l=t=>{let{name:r,value:a}=t.target;n({...e,[r]:a})},d=async n=>{n.preventDefault(),c(!1),m("");let t='\n      mutation {\n        nextCreateForm(\n          input: {\n            name: "'.concat(e.name,'",\n            contactNumber: "').concat(e.contactNumber,'"\n          }\n        ) {\n          formEntry {\n            id\n            name\n            contactNumber\n            formId\n          }\n        }\n      }\n    ');try{let e=await s.Z.post("https://kapstaging.com/graphql",{query:t});e.data.data.nextCreateForm&&(u(e.data.data.nextCreateForm.formEntry),c(!0))}catch(e){m("Error creating form. Please try again."),console.error("Error creating form:",e)}};return(0,r.jsxs)("div",{className:"form-container",children:[(0,r.jsx)("h1",{children:"Create a New Form"}),(0,r.jsxs)("form",{onSubmit:d,className:"form",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Name:"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:l,required:!0,className:"form-input"})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Contact Number:"}),(0,r.jsx)("input",{type:"text",name:"contactNumber",value:e.contactNumber,onChange:l,required:!0,className:"form-input"})]}),(0,r.jsx)("button",{type:"submit",className:"submit-button",children:"Submit"})]}),t&&i&&(0,r.jsxs)("div",{className:"success-message",children:[(0,r.jsx)("p",{children:"Form created successfully!"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"ID:"})," ",i.id]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",i.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Contact Number:"})," ",i.contactNumber]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Form ID:"})," ",i.formId]})]}),o&&(0,r.jsx)("p",{className:"error-message",children:o})]})}}},function(e){e.O(0,[7066,2888,9774,179],function(){return e(e.s=4542)}),_N_E=e.O()}]);