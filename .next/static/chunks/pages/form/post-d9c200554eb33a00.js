(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{2105:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/form/post",function(){return t(1466)}])},1466:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return u}});var o=t(5893),l=t(7066),i=t(1163),s=t(7294),a=t(9008),r=t.n(a),d=t(3454);function u(){var n,e,t,a,u,c,f;let{slug:h}=(0,i.useRouter)().query,[p,v]=(0,s.useState)(null),[x,m]=(0,s.useState)(!0),[_,g]=(0,s.useState)(null);return((0,s.useEffect)(()=>{h&&(async()=>{m(!0),g(null);try{let n=await l.Z.post(d.env.NEXT_PUBLIC_STAGING_URL,{query:"\n  query GetPostByTitle($slug: String!) {\n    postBy(slug: $slug) {\n      title\n      content\n      date\n      featuredImage {\n        node {\n          sourceUrl\n        }\n      }\n      categories {\n        nodes {\n          name\n          parent {\n            node {\n              name\n            }\n          }\n        }\n      }\n      author {\n        node {\n          name\n        }\n      }\n      seo {\n        metaDesc\n        title\n        fullHead\n        canonical\n      }\n    }\n  }\n",variables:{slug:h}});v(n.data.data.postBy)}catch(n){g("Failed to fetch post.")}finally{m(!1)}})()},[h]),x)?(0,o.jsx)("p",{children:"Loading..."}):_?(0,o.jsxs)("p",{children:["Error: ",_]}):p?(0,o.jsxs)("div",{style:{padding:"20px"},children:[(0,o.jsxs)(r(),{children:[(0,o.jsx)("title",{children:(null===(n=p.seo)||void 0===n?void 0:n.title)||p.title}),(0,o.jsx)("meta",{name:"description",content:(null===(e=p.seo)||void 0===e?void 0:e.metaDesc)||""}),(0,o.jsx)("link",{rel:"canonical",href:(null===(t=p.seo)||void 0===t?void 0:t.canonical)||window.location.href})]}),(0,o.jsx)("h1",{children:p.title}),(0,o.jsxs)("p",{children:["By ",null===(u=p.author)||void 0===u?void 0:null===(a=u.node)||void 0===a?void 0:a.name," on ",new Date(p.date).toLocaleDateString()]}),(null===(f=p.featuredImage)||void 0===f?void 0:null===(c=f.node)||void 0===c?void 0:c.sourceUrl)&&(0,o.jsx)("div",{style:{marginBottom:"20px"},children:(0,o.jsx)("img",{src:p.featuredImage.node.sourceUrl,alt:p.title,style:{maxWidth:"100%",borderRadius:"8px"}})}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:p.content}})]}):(0,o.jsx)("p",{children:"No post found."})}},9008:function(n,e,t){n.exports=t(3867)}},function(n){n.O(0,[7066,2888,9774,179],function(){return n(n.s=2105)}),_N_E=n.O()}]);